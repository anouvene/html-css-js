 //jQuery.noConflict();
(function(b){var a;b.fn.undoChanges=function(){a.undoChanges();return this};b.fn.updateChanges=function(){a.updateChanges();return this};b.fn.setCtrlType=function(c){a.setCtrlType(c);return this};b.fn.setEasing=function(c){a.setEasing(c);return this};b.fn.setCapPosition=function(c,d){a.setCapPosition(c,d);return this};b.fn.setCapMouseover=function(c){a.setCapMouseover(c);return this};b.fn.setCaption=function(c){a.setCaption(c);return this};b.fn.setButtons=function(c){a.setButtons(c);return this};b.fn.setScrollbar=function(c){a.setScrollbar(c);return this};b.fn.setIndexes=function(c){a.setIndexes(c);return this};b.fn.wtScroller=function(t){var q="top";var i="bottom";var m="outside";var g="inside";var x=0.9;var e=0.5;var p=1000;var c=600;var o=300;var l=4000;var y="update_buttons";var s="update_thumb";var h="update_index";var f="update_text";var k="start_timer";var w="lightbox_open";var u="lightbox_close";function r(a0,aZ){var az=d(aZ.num_display,3);var M=d(aZ.slide_width,25);var ax=d(aZ.slide_height,21);var X=v(aZ.slide_margin,1);var aU=v(aZ.margin,10);var R=d(aZ.button_width,25);var aX=d(aZ.ctrl_height,21);var N=aZ.auto_scroll;var z=d(aZ.delay,l);var ak=d(aZ.scroll_speed,p);var aP=aZ.easing;var ar=aZ.auto_scale;var W=aZ.display_buttons;var aF=aZ.ctrl_type.toLowerCase();var aE=aZ.display_caption;var au=aZ.mouseover_caption;var ay=aZ.caption_position.toLowerCase();var aY=aZ.caption_align.toLowerCase();var aa=aZ.move_one;var G=aZ.cont_nav;var E=aZ.shuffle;var L;var aw;var at;var aN;var F;var aT;var aj;var O;var P;var aA;var am;var T;var C;var ah;var aC;var ap;var af;var aW;var aS;var aQ;var aV;var aH;var Z;this.init=function(){Z=a0.find(">div:first").clone();L=b(".wt-scroller",a0);aw=L.find(".slides");at=aw.find(">ul:first");aN=at.find(">li");aj=L.find(".lower-panel");F=L.find(".prev-btn");aT=L.find(".next-btn");aQ=0;aV=0;aW=0;aH=-1;aS=null;T=aN.size();if(T<=az){W=false;aF="none";az=T}if(aF=="index"){aa=false}aM();ad();aD();L.css({width:aw.width()+F.width()+aT.width(),height:aw.height()+aj.outerHeight(),"padding-top":aU});if(E){D()}J();b(document).bind(u,ae).bind(w,ac);L.trigger(u)};var aM=function(){aL();am=new Array(T);aN.each(function(a3){var a2=b(this).find("img:first");var a1=b(this).find(">a:first");if(!a1.attr("href")){b(this).click(Y);a1.css("cursor","default")}else{a1.data("text",b(this).find(">p:first").html())}if(ar){a2[0].complete||a2[0].readyState=="complete"?ab(a2):a2.load(A)}if(aE&&ay==g){V(b(this))}am[a3]=b(this)})};var aL=function(){var a1=aN.find(">p:first");if(aE){var a4=a1.outerWidth()-a1.width();a1.css({width:M-a4,visibility:"visible"}).click(Y);if(ay==m){var a3=a1.map(function(){return b(this).height()}).get();var a2=Math.max.apply(Math,a3);a1.css({top:aY==q?0:ax,height:a2});aV=a1.outerHeight();if(aY==q){aQ=aV}a1.addClass("outside")}else{a1.addClass("inside")}}else{a1.hide()}};var V=function(a1){var a2=a1.find(">p:first");if(a2.length<1||a2.html()==""){a2.remove();return}if(au){a2.css("top",aY==q?-a2.outerHeight():ax);a1.hover(K,aO)}else{a2.css("top",aY==q?0:ax-a2.outerHeight())}};var ad=function(){aN.css({width:M,height:ax+aV,"margin-right":X}).hover(aR,aB);aw.css({width:(az*aN.width())+((az-1)*X),height:aN.height()});C=aN.outerWidth(true);var a1;if(aF=="index"){a1=az*Math.ceil(T/az)}else{a1=T}at.width(a1*C);ap=a1-az;ah=0;aC=ap;af=((at.width()-X)-aw.width())};var aD=function(){aI();aj.css({width:630,"padding-left":0,"padding-right":0});switch(aF){case"scrollbar":aJ();var a1=Math.max((aX-P.height())/2,0);aj.css({"padding-top":a1,"padding-bottom":a1});break;case"index":H();var a1=Math.max((aX-O.height())/2,0);aj.css({"padding-top":a1,"padding-bottom":a1});break;default:aj.remove();L.css("padding-bottom",aU)}};var aI=function(){if(W){F.css({width:R,height:21}).mousedown(Y).click(aq);aT.css({width:R,height:21}).mousedown(Y).click(U);if(!G){L.bind(y,I)}}else{F.remove();aT.remove();L.css({"padding-left":aU,"padding-right":aU})}};var I=function(){var a1=Math.abs(aW/C);var a2=a1+az;F.css(a1>0?{opacity:1,cursor:"pointer"}:{opacity:e,cursor:"default"});aT.css(a2<T?{opacity:1,cursor:"pointer"}:{opacity:e,cursor:"default"})};var aJ=function(){aj.append("<div class='scroll-bar'><div class='thumb'><table cellpadding='0' cellspacing='0'><tr><td align='left'><img src='images/scroll_g.png' alt=''></td><td>&nbsp;</td><td align='right'><img src='images/scroll_d.png' alt=''></td></tr></table></div></div>");P=aj.find("div.scroll-bar");aA=aj.find("div.thumb");P.width(580).click(ag).mousedown(Y);aA.width(Math.ceil((az/T)*P.width())).click(Y);var a1=P.width()-aA.width();var a3=af/a1;try{aA.draggable({containment:"parent"}).bind("drag",function(){at.css({left:Math.round(-aA.position().left*a3)})}).bind("dragstop",function(){ao(aA.position().left/a1)})}catch(a2){}L.bind(s,function(){var a4=Math.round(Math.abs(aW)*(1/a3));aA.stop(true,true).animate({left:a4},ak,aP)})};var H=function(){var a3=Math.ceil(T/az);var a2="";for(var a1=0;a1<a3;a1++){a2+="<span class='index'></span>"}aj.prepend(a2);O=aj.find(".index").mousedown(Y).bind("click",ai);L.bind(h,av)};var av=function(){var a1=Math.ceil(ah/az);O.filter(".index-hl").removeClass("index-hl");b(O.get(a1)).addClass("index-hl")};var Q=function(){aW=-ah*C;at.stop(true,true).animate({left:aW},ak,aP,function(){L.trigger(k)});J()};var J=function(){L.trigger(y).trigger(s).trigger(h)};var ag=function(a1){ao((a1.pageX-P.offset().left)/P.width())};var ao=function(a4){if(a4!=aH){aH=a4;var a1;var a2=a4*af;if(a2>Math.abs(aW)){a1=Math.ceil(a2/C)}else{if(a2<Math.abs(aW)){a1=Math.floor(a2/C)}else{return}}var a3=a1+(aW/C);ah+=a3;aC-=a3;Q()}};var ai=function(){S();ah=b(this).index()*az;aC=ap-ah;Q();return false};var aq=function(){S();if(aC<ap){var a1=aa?1:Math.min(ap-aC,az);aC+=a1;ah-=a1}else{if(G){aC=0;ah=ap}else{return}}Q()};var U=function(){S();if(ah<ap){var a1=aa?1:Math.min(ap-ah,az);ah+=a1;aC-=a1}else{if(G){ah=0;aC=ap}else{return}}Q()};var al=function(){S();if(ah<ap){var a1=aa?1:Math.min(ap-ah,az);ah+=a1;aC-=a1}else{ah=0;aC=ap}Q()};var A=function(){ab(b(this))};var ab=function(a1){if(a1.outerWidth()>0&&a1.outerHeight()>0){var a2;if(a1.outerWidth()>M){a2=a1.outerHeight()/a1.outerWidth();a1.css({width:M,height:a2*M})}if(a1.outerHeight()>ax){a2=a1.outerWidth()/a1.outerHeight();a1.css({width:a2*ax,height:ax})}a1.css({left:Math.round((M-a1.outerWidth())/2),top:aQ+Math.round((ax-a1.outerHeight())/2)})}};var ac=function(){L.unbind(k).unbind("mouseenter").unbind("mouseleave");S();b(document).unbind("keyup",B)};var ae=function(){if(N){L.bind(k,aG).hover(aK,an).trigger(k)}b(document).bind("keyup",B)};var aR=function(){b(this).find("img:first").stop().animate({opacity:x},o)};var aB=function(){b(this).find("img:first").stop().animate({opacity:1},o,function(){if(jQuery.browser.msie){this.style.removeAttribute("filter")}})};var K=function(){var a1=b(this).find(">p:first");a1.stop().animate({top:aY==i?ax-a1.outerHeight():0},o)};var aO=function(){var a1=b(this).find(">p:first");a1.stop().animate({top:aY==i?ax:-a1.outerHeight()},o)};var aK=function(){L.unbind(k);S()};var an=function(){L.bind(k,aG).trigger(k)};var B=function(a1){switch(a1.keyCode){case 37:aq();break;case 39:U();break}};var Y=function(){return false};var D=function(){for(var a3=0;a3<am.length;a3++){var a1=Math.floor(Math.random()*am.length);var a2=am[a3];am[a3]=am[a1];am[a1]=a2}for(var a3=0;a3<am.length;a3++){am[a3]=am[a3].clone(true)}for(var a3=0;a3<am.length;a3++){b(aN.get(a3)).replaceWith(am[a3])}};var aG=function(){if(aS==null){aS=setTimeout(al,z)}};var S=function(){clearTimeout(aS);aS=null};this.undoChanges=function(){S();a0.empty();a0.append(Z)};this.updateChanges=function(){this.init()};this.setCtrlType=function(a1){aF=a1};this.setEasing=function(a1){aP=a1};this.setButtons=function(a1){W=a1};this.setCaption=function(a1){aE=a1};this.setCapPosition=function(a1,a2){ay=a1;aY=a2};this.setCapMouseover=function(a1){au=a1}}var d=function(z,A){if(!isNaN(z)&&z>0){return z}return A};var v=function(z,A){if(!isNaN(z)&&z>=0){return z}return A};var j={num_display:3,slide_width:220,slide_height:280,slide_margin:1,button_width:25,ctrl_height:21,margin:0,auto_scroll:true,delay:l,scroll_speed:p,easing:"",auto_scale:true,move_one:false,ctrl_type:"scrollbar",display_buttons:true,display_caption:true,mouseover_caption:false,caption_align:i,caption_position:g,cont_nav:true,shuffle:false};var n=b.extend(true,{},j,t);return this.each(function(){a=new r(b(this),n);a.init()})}})(jQuery);